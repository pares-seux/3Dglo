(()=>{"use strict";function e({timing:e,draw:t,duration:o}){let r=performance.now();requestAnimationFrame((function a(l){let n=(l-r)/o;n>1&&(n=1);let c=e(n);t(c),n<1&&requestAnimationFrame(a)}))}(e=>{const t=document.getElementById("timer-days"),o=document.getElementById("timer-hours"),r=document.getElementById("timer-minutes"),a=document.getElementById("timer-seconds");let l;const n=()=>{let e=(()=>{let e=new Date("25 february 2022").getTime(),t=(new Date).getTime();if(t>e)return{timeRemaining:-1,hours:"00",minutes:"00",seconds:"00"};let o=(e-t)/1e3;return{timeRemaining:o,days:Math.floor(o/60/60/24),hours:Math.floor(o/60/60%24),minutes:Math.floor(o/60%60),seconds:Math.floor(o%60)}})();var n,c;e.days>0?t.textContent=(c=["день","дня","дней"],1===(n=e.days)||n%10==1&&11!==n?`${n} ${c[0]}`:n>1&&n<5||n%10>1&&n%10<5&&n>20?`${n} ${c[1]}`:`${n} ${c[2]}`):t.textContent="",o.textContent=(e.hours+"").padStart(2,"0"),r.textContent=(e.minutes+"").padStart(2,"0"),a.textContent=(e.seconds+"").padStart(2,"0"),e.timeRemaining<0&&clearInterval(l)};n(),l=setInterval((()=>{n()}),1e3)})(),(()=>{const e=document.querySelector(".menu"),t=document.querySelector("menu"),o=t.querySelector(".close-btn"),r=document.querySelector("main>a"),a=e=>{let t=e.getAttribute("href");document.getElementById(t.slice(1)).scrollIntoView({block:"center",behavior:"smooth"})},l=()=>{t.classList.toggle("active-menu")};document.addEventListener("click",(n=>{n.preventDefault(),n.target.closest(".active-menu")?n.target===o?l():"a"===n.target.localName&&(a(n.target),l()):((t.classList.contains("active-menu")||n.target===e||n.target.closest(".menu"))&&l(),n.target!==r&&r!==n.target.parentElement||a(r))}))})(),(()=>{const t=document.querySelector(".popup"),o=t.querySelector(".popup-content");let r;document.querySelectorAll(".popup-btn").forEach((a=>{a.addEventListener("click",(()=>{t.style.display="block",console.log(screen.width),+screen.width>768&&(r=0,o.style.opacity=0,e({duration:1e3,timing:e=>e,draw(e){o.style.opacity=100*e+"%"}}),o.style.opacity="")}))})),t.addEventListener("click",(e=>{e.target.closest(".popup-content")&&!e.target.classList.contains("popup-close")||(t.style.display="none")}))})(),(()=>{const e=document.querySelectorAll(".calc-block > input[type=text]"),t=document.querySelectorAll("form input[type=text]"),o=document.querySelectorAll("form input[type=email]"),r=document.querySelectorAll("form input[type=tel]"),a=document.createElement("p");a.innerText="*Значение введено неверно",a.style.cssText=" margin-bottom: 10px;",t.forEach((e=>{e.addEventListener("blur",(()=>{/[^а-яА-Я\s-]+/g.test(e.value)?e.parentElement.append(a):(a.remove(),e.value=e.value.replace(/(^[^а-яА-Я]+)|([^а-яА-Я]+)$/g,"").replace(/\s\s/g," ").replace(/--/g,"-"))}))})),o.forEach((e=>{e.addEventListener("blur",(()=>{/[^a-zA-z0-9@-_\.!~\*\']+/g.test(e.value)?e.parentElement.append(a):(a.remove(),e.value=e.value.replace(/(^[^a-zA-z0-9]+)|([^a-zA-z0-9]+)$/g,"").replace(/@@/g,"@").replace(/\.\./g,"."))}))})),r.forEach((e=>{e.addEventListener("input",(e=>{e.target.value=e.target.value.replace(/[^\d-()]+/g,"")})),e.addEventListener("blur",(()=>{e.value=e.value.replace(/[()-]/g,""),e.value.length<10?e.parentElement.append(a):(a.remove(),e.value=`(${e.value.slice(0,3)})${e.value.slice(3,6)}-${e.value.slice(6,8)}-${e.value.slice(8,10)}`)}))})),e.forEach((e=>{e.addEventListener("input",(e=>{e.target.value=e.target.value.replace(/[\D]+/,"")}))}))})(),(()=>{const e=document.querySelector(".service-header"),t=document.querySelectorAll(".service-header-tab"),o=document.querySelectorAll(".service-tab");e.addEventListener("click",(e=>{if(e.target.closest(".service-header-tab")){const r=e.target.closest(".service-header-tab");t.forEach(((e,t)=>{e===r?(e.classList.add("active"),o[t].classList.remove("d-none")):(e.classList.remove("active"),o[t].classList.add("d-none"))}))}}))})(),((e,t)=>{let o,r,a,l,n=document.querySelector(".portfolio-dots"),c=0;const s=(e,t,o)=>{e[t].classList.remove(o)},i=(e,t,o)=>{e[t].classList.add(o)},u=()=>{s(l,c,"portfolio-item-active"),s(r,c,"dot-active"),c++,c>=l.length&&(c=0),i(l,c,"portfolio-item-active"),i(r,c,"dot-active")},d=(e=1500)=>{o=setInterval(u,e)};a=document.querySelector("."+e),console.log(a,t),null!==a?(l=a.querySelectorAll("."+t),null!==a?(n.innerHTML=Array(l.length+1).join("<li class='dot'></li>"),n=document.querySelector(".portfolio-dots"),r=n.querySelectorAll(".dot"),r[c].classList.add("dot-active"),d(2e3),a.addEventListener("click",(e=>{e.preventDefault(),e.target.matches(".dot, .portfolio-btn")&&(s(l,c,"portfolio-item-active"),s(r,c,"dot-active"),e.target.matches("#arrow-right")?c++:e.target.matches("#arrow-left")?c--:e.target.classList.contains("dot")&&r.forEach(((t,o)=>{e.target===t&&(c=o)})),c>=l.length&&(c=0),c<0&&(c=l.length-1),i(l,c,"portfolio-item-active"),i(r,c,"dot-active"))})),a.addEventListener("mouseenter",(e=>{e.target.matches(".dot, .portfolio-btn")&&clearInterval(o)}),!0),a.addEventListener("mouseleave",(e=>{e.target.matches(".dot, .portfolio-btn")&&d(2e3)}),!0)):console.log("error")):console.log("error")})("portfolio-content","portfolio-item"),((t=100)=>{const o=document.querySelector(".calc-block"),r=document.querySelector(".calc-type"),a=document.querySelector(".calc-square"),l=document.querySelector(".calc-count"),n=document.querySelector(".calc-day"),c=document.getElementById("total");o.addEventListener("input",(o=>{o.target!==r&&o.target!==a&&o.target!==l&&o.target!==n||(()=>{const o=+r.options[r.selectedIndex].value,s=+a.value;let i=0,u=1,d=1;var m;l.value>1&&(u+=+l.value/10),n.value<5&&n.value?d=2:n.value<10&&n.value&&(d=1.5),i=r.value&&a.value?t*o*s*u*d:0,console.log(i),m=i,e({duration:1e3,timing:e=>e,draw(e){console.log(e,m/e),c.textContent=Math.round(m/e)}})})()}))})()})();